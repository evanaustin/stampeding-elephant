/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!***********************!*\
  !*** ./src/blocks.js ***!
  \***********************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__block_block_js__ = __webpack_require__(/*! ./block/block.js */ 1);\n/**\n * Gutenberg Blocks\n *\n * All blocks related JavaScript files should be imported here.\n * You can create a new block folder in this dir and include code\n * for that block here as well.\n *\n * All blocks should be included here since this is the file that\n * Webpack is compiling as the input file.\n */\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9ja3MuanM/N2I1YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEd1dGVuYmVyZyBCbG9ja3NcbiAqXG4gKiBBbGwgYmxvY2tzIHJlbGF0ZWQgSmF2YVNjcmlwdCBmaWxlcyBzaG91bGQgYmUgaW1wb3J0ZWQgaGVyZS5cbiAqIFlvdSBjYW4gY3JlYXRlIGEgbmV3IGJsb2NrIGZvbGRlciBpbiB0aGlzIGRpciBhbmQgaW5jbHVkZSBjb2RlXG4gKiBmb3IgdGhhdCBibG9jayBoZXJlIGFzIHdlbGwuXG4gKlxuICogQWxsIGJsb2NrcyBzaG91bGQgYmUgaW5jbHVkZWQgaGVyZSBzaW5jZSB0aGlzIGlzIHRoZSBmaWxlIHRoYXRcbiAqIFdlYnBhY2sgaXMgY29tcGlsaW5nIGFzIHRoZSBpbnB1dCBmaWxlLlxuICovXG5cbmltcG9ydCAnLi9ibG9jay9ibG9jay5qcyc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2tzLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/*!****************************!*\
  !*** ./src/block/block.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(/*! lodash */ 2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar _wp$compose = wp.compose,\n    compose = _wp$compose.compose,\n    createHigherOrderComponent = _wp$compose.createHigherOrderComponent;\nvar _wp$element = wp.element,\n    Component = _wp$element.Component,\n    Fragment = _wp$element.Fragment;\nvar InspectorControls = wp.blockEditor.InspectorControls;\nvar _wp$components = wp.components,\n    PanelBody = _wp$components.PanelBody,\n    SelectControl = _wp$components.SelectControl,\n    InnerBlocks = _wp$components.InnerBlocks,\n    Button = _wp$components.Button,\n    ResponsiveWrapper = _wp$components.ResponsiveWrapper,\n    Spinner = _wp$components.Spinner,\n    ColorPalette = _wp$components.ColorPalette,\n    MediaUpload = _wp$components.MediaUpload,\n    MediaUploadCheck = _wp$components.MediaUploadCheck;\nvar addFilter = wp.hooks.addFilter;\nvar withSelect = wp.data.withSelect;\nvar __ = wp.i18n.__;\n\n// Enable manipulation of the following blocks\n\nvar enabledBlocks = ['core/column'];\n\n/**\n * Add attributes to block.\n *\n * @param {object} settings Current block settings.\n * @param {string} name Name of block.\n *\n * @returns {object} Modified block settings.\n */\nvar addAttributes = function addAttributes(settings, name) {\n    // don't do anything if this isn't one of our enabled blocks\n    if (!enabledBlocks.includes(name)) {\n        return settings;\n    }\n\n    // use Lodash's assign to gracefully handle if attributes are undefined\n    settings.attributes = Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"])(settings.attributes, {\n        bgColor: {\n            type: 'string',\n            default: 'transparent'\n        }\n    });\n\n    return settings;\n};\n\naddFilter('blocks.registerBlockType', 'lu-gutenberg/add-attributes', addAttributes);\n\n/**\n * Add style attribute to save element of block.\n *\n * @param {object} saveElementProps Props of save element.\n * @param {Object} blockType Block type information.\n * @param {Object} attributes Attributes of block.\n *\n * @returns {object} Modified props of save element.\n */\nvar addExtraProps = function addExtraProps(saveElementProps, blockType, attributes) {\n    // don't do anything if this isn't one of our enabled blocks\n    if (!enabledBlocks.includes(blockType.name)) {\n        return saveElementProps;\n    }\n\n    // console.log(attributes);\n\n    // use Lodash's assign to gracefully handle if attributes are undefined\n    Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"assign\"])(saveElementProps, {\n        style: {\n            'background-color': attributes.bgColor\n        }\n    });\n\n    return saveElementProps;\n};\n\naddFilter('blocks.getSaveContent.extraProps', 'lu-gutenberg/get-save-content/extra-props', addExtraProps);\n\nvar ALLOWED_MEDIA_TYPES = ['image'];\n\nvar BackgroundEdit = function (_Component) {\n    _inherits(BackgroundEdit, _Component);\n\n    function BackgroundEdit() {\n        _classCallCheck(this, BackgroundEdit);\n\n        return _possibleConstructorReturn(this, (BackgroundEdit.__proto__ || Object.getPrototypeOf(BackgroundEdit)).apply(this, arguments));\n    }\n\n    _createClass(BackgroundEdit, [{\n        key: 'render',\n        value: function render() {\n            // don't do anything if this isn't one of our enabled blocks\n            /* if (!enabledBlocks.includes(props.name)) {\n                return (\n                    <BlockEdit {...props} />\n                );\n            } */\n\n            var _props = this.props,\n                attributes = _props.attributes,\n                setAttributes = _props.setAttributes,\n                bgImage = _props.bgImage,\n                className = _props.className;\n            var bgColor = attributes.bgColor,\n                bgImageId = attributes.bgImageId;\n\n\n            var instructions = wp.element.createElement(\n                'p',\n                null,\n                __('To edit the background image, you need permission to upload media.', 'image-selector-example')\n            );\n\n            var styles = {};\n            if (bgImage && bgImage.source_url) {\n                styles = { backgroundImage: 'url(' + bgImage.source_url + ')' };\n            }\n\n            var onUpdateImage = function onUpdateImage(image) {\n                setAttributes({\n                    bgImageId: image.id\n                });\n            };\n\n            var onRemoveImage = function onRemoveImage() {\n                setAttributes({\n                    bgImageId: undefined\n                });\n            };\n\n            // add has-bgColor-x class to block\n            if (bgColor) {\n                props.attributes.className = 'has-bgColor-' + bgColor;\n                props.style = { 'background-color': bgColor };\n            }\n\n            var colors = [{ name: 'None', color: 'transparent' }, { name: 'White', color: '#FFFFFF' }, { name: 'Gray', color: '#F5F5F5' }, { name: 'Dark Gray', color: '#333333' }, { name: 'Dark Blue', color: '#161F31' }, { name: 'Blue', color: '#E7EFF7' }];\n\n            return wp.element.createElement(\n                Fragment,\n                null,\n                wp.element.createElement(\n                    'div',\n                    {\n                        // style={{ 'background-color': bgColor }}\n                        style: styles\n                    },\n                    wp.element.createElement(BlockEdit, props)\n                ),\n                wp.element.createElement(\n                    InspectorControls,\n                    null,\n                    wp.element.createElement(\n                        PanelBody,\n                        { initialOpen: false },\n                        wp.element.createElement(\n                            PanelRow,\n                            null,\n                            wp.element.createElement(\n                                'label',\n                                null,\n                                wp.element.createElement(\n                                    'b',\n                                    null,\n                                    'Background Color'\n                                )\n                            ),\n                            wp.element.createElement(ColorPalette, {\n                                colors: colors,\n                                value: bgColor,\n                                disableCustomColors: true,\n                                onChange: function onChange(value) {\n                                    return props.setAttributes({ bgColor: value });\n                                }\n                            })\n                        )\n                    ),\n                    wp.element.createElement(\n                        PanelBody,\n                        {\n                            title: __('Background settings', 'image-selector-example'),\n                            initialOpen: true\n                        },\n                        wp.element.createElement(\n                            'div',\n                            { className: 'wp-block-image-selector-example-image' },\n                            wp.element.createElement(\n                                MediaUploadCheck,\n                                { fallback: instructions },\n                                wp.element.createElement(MediaUpload, {\n                                    title: __('Background image', 'image-selector-example'),\n                                    onSelect: onUpdateImage,\n                                    allowedTypes: ALLOWED_MEDIA_TYPES,\n                                    value: bgImageId,\n                                    render: function render(_ref) {\n                                        var open = _ref.open;\n                                        return wp.element.createElement(\n                                            Button,\n                                            {\n                                                className: !bgImageId ? 'editor-post-featured-image__toggle' : 'editor-post-featured-image__preview',\n                                                onClick: open },\n                                            !bgImageId && __('Set background image', 'image-selector-example'),\n                                            !!bgImageId && !bgImage && wp.element.createElement(Spinner, null),\n                                            !!bgImageId && bgImage && wp.element.createElement(\n                                                ResponsiveWrapper,\n                                                {\n                                                    naturalWidth: bgImage.media_details.width,\n                                                    naturalHeight: bgImage.media_details.height\n                                                },\n                                                wp.element.createElement('img', { src: bgImage.source_url, alt: __('Background image', 'image-selector-example') })\n                                            )\n                                        );\n                                    }\n                                })\n                            ),\n                            !!bgImageId && bgImage && wp.element.createElement(\n                                MediaUploadCheck,\n                                null,\n                                wp.element.createElement(MediaUpload, {\n                                    title: __('Background image', 'image-selector-example'),\n                                    onSelect: onUpdateImage,\n                                    allowedTypes: ALLOWED_MEDIA_TYPES,\n                                    value: bgImageId,\n                                    render: function render(_ref2) {\n                                        var open = _ref2.open;\n                                        return wp.element.createElement(\n                                            Button,\n                                            { onClick: open, isDefault: true, isLarge: true },\n                                            __('Replace background image', 'image-selector-example')\n                                        );\n                                    }\n                                })\n                            ),\n                            !!bgImageId && wp.element.createElement(\n                                MediaUploadCheck,\n                                null,\n                                wp.element.createElement(\n                                    Button,\n                                    { onClick: onRemoveImage, isLink: true, isDestructive: true },\n                                    __('Remove background image', 'image-selector-example')\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return BackgroundEdit;\n}(Component);\n\n/**\n * Create HOC to add options to inspector controls of block\n */\n// const withAttributes = compose((BlockEdit) => {\n\n\nvar withAttributes = compose(withSelect(function (select, props) {\n    var _select = select('core'),\n        getMedia = _select.getMedia;\n\n    var bgImageId = props.attributes.bgImageId;\n\n\n    return {\n        bgImage: bgImageId ? getMedia(bgImageId) : null\n    };\n}))(BackgroundEdit);\n\naddFilter('editor.BlockEdit', 'lu-gutenberg/with-attributes', withAttributes);\n\n/* export default compose(\n    withSelect( ( select, props ) => {\n        const { getMedia } = select( 'core' );\n        const { bgImageId } = props.attributes;\n\n        return {\n            bgImage: bgImageId ? getMedia( bgImageId ) : null,\n        };\n    } ),\n)( BackgroundEdit ); *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9ibG9jay5qcz85MjFkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnbG9kYXNoJztcblxudmFyIF93cCRjb21wb3NlID0gd3AuY29tcG9zZSxcbiAgICBjb21wb3NlID0gX3dwJGNvbXBvc2UuY29tcG9zZSxcbiAgICBjcmVhdGVIaWdoZXJPcmRlckNvbXBvbmVudCA9IF93cCRjb21wb3NlLmNyZWF0ZUhpZ2hlck9yZGVyQ29tcG9uZW50O1xudmFyIF93cCRlbGVtZW50ID0gd3AuZWxlbWVudCxcbiAgICBDb21wb25lbnQgPSBfd3AkZWxlbWVudC5Db21wb25lbnQsXG4gICAgRnJhZ21lbnQgPSBfd3AkZWxlbWVudC5GcmFnbWVudDtcbnZhciBJbnNwZWN0b3JDb250cm9scyA9IHdwLmJsb2NrRWRpdG9yLkluc3BlY3RvckNvbnRyb2xzO1xudmFyIF93cCRjb21wb25lbnRzID0gd3AuY29tcG9uZW50cyxcbiAgICBQYW5lbEJvZHkgPSBfd3AkY29tcG9uZW50cy5QYW5lbEJvZHksXG4gICAgU2VsZWN0Q29udHJvbCA9IF93cCRjb21wb25lbnRzLlNlbGVjdENvbnRyb2wsXG4gICAgSW5uZXJCbG9ja3MgPSBfd3AkY29tcG9uZW50cy5Jbm5lckJsb2NrcyxcbiAgICBCdXR0b24gPSBfd3AkY29tcG9uZW50cy5CdXR0b24sXG4gICAgUmVzcG9uc2l2ZVdyYXBwZXIgPSBfd3AkY29tcG9uZW50cy5SZXNwb25zaXZlV3JhcHBlcixcbiAgICBTcGlubmVyID0gX3dwJGNvbXBvbmVudHMuU3Bpbm5lcixcbiAgICBDb2xvclBhbGV0dGUgPSBfd3AkY29tcG9uZW50cy5Db2xvclBhbGV0dGUsXG4gICAgTWVkaWFVcGxvYWQgPSBfd3AkY29tcG9uZW50cy5NZWRpYVVwbG9hZCxcbiAgICBNZWRpYVVwbG9hZENoZWNrID0gX3dwJGNvbXBvbmVudHMuTWVkaWFVcGxvYWRDaGVjaztcbnZhciBhZGRGaWx0ZXIgPSB3cC5ob29rcy5hZGRGaWx0ZXI7XG52YXIgd2l0aFNlbGVjdCA9IHdwLmRhdGEud2l0aFNlbGVjdDtcbnZhciBfXyA9IHdwLmkxOG4uX187XG5cbi8vIEVuYWJsZSBtYW5pcHVsYXRpb24gb2YgdGhlIGZvbGxvd2luZyBibG9ja3NcblxudmFyIGVuYWJsZWRCbG9ja3MgPSBbJ2NvcmUvY29sdW1uJ107XG5cbi8qKlxuICogQWRkIGF0dHJpYnV0ZXMgdG8gYmxvY2suXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIEN1cnJlbnQgYmxvY2sgc2V0dGluZ3MuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIGJsb2NrLlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IE1vZGlmaWVkIGJsb2NrIHNldHRpbmdzLlxuICovXG52YXIgYWRkQXR0cmlidXRlcyA9IGZ1bmN0aW9uIGFkZEF0dHJpYnV0ZXMoc2V0dGluZ3MsIG5hbWUpIHtcbiAgICAvLyBkb24ndCBkbyBhbnl0aGluZyBpZiB0aGlzIGlzbid0IG9uZSBvZiBvdXIgZW5hYmxlZCBibG9ja3NcbiAgICBpZiAoIWVuYWJsZWRCbG9ja3MuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHNldHRpbmdzO1xuICAgIH1cblxuICAgIC8vIHVzZSBMb2Rhc2gncyBhc3NpZ24gdG8gZ3JhY2VmdWxseSBoYW5kbGUgaWYgYXR0cmlidXRlcyBhcmUgdW5kZWZpbmVkXG4gICAgc2V0dGluZ3MuYXR0cmlidXRlcyA9IGFzc2lnbihzZXR0aW5ncy5hdHRyaWJ1dGVzLCB7XG4gICAgICAgIGJnQ29sb3I6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgICAgZGVmYXVsdDogJ3RyYW5zcGFyZW50J1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2V0dGluZ3M7XG59O1xuXG5hZGRGaWx0ZXIoJ2Jsb2Nrcy5yZWdpc3RlckJsb2NrVHlwZScsICdsdS1ndXRlbmJlcmcvYWRkLWF0dHJpYnV0ZXMnLCBhZGRBdHRyaWJ1dGVzKTtcblxuLyoqXG4gKiBBZGQgc3R5bGUgYXR0cmlidXRlIHRvIHNhdmUgZWxlbWVudCBvZiBibG9jay5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gc2F2ZUVsZW1lbnRQcm9wcyBQcm9wcyBvZiBzYXZlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gYmxvY2tUeXBlIEJsb2NrIHR5cGUgaW5mb3JtYXRpb24uXG4gKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlcyBBdHRyaWJ1dGVzIG9mIGJsb2NrLlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IE1vZGlmaWVkIHByb3BzIG9mIHNhdmUgZWxlbWVudC5cbiAqL1xudmFyIGFkZEV4dHJhUHJvcHMgPSBmdW5jdGlvbiBhZGRFeHRyYVByb3BzKHNhdmVFbGVtZW50UHJvcHMsIGJsb2NrVHlwZSwgYXR0cmlidXRlcykge1xuICAgIC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHRoaXMgaXNuJ3Qgb25lIG9mIG91ciBlbmFibGVkIGJsb2Nrc1xuICAgIGlmICghZW5hYmxlZEJsb2Nrcy5pbmNsdWRlcyhibG9ja1R5cGUubmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHNhdmVFbGVtZW50UHJvcHM7XG4gICAgfVxuXG4gICAgLy8gY29uc29sZS5sb2coYXR0cmlidXRlcyk7XG5cbiAgICAvLyB1c2UgTG9kYXNoJ3MgYXNzaWduIHRvIGdyYWNlZnVsbHkgaGFuZGxlIGlmIGF0dHJpYnV0ZXMgYXJlIHVuZGVmaW5lZFxuICAgIGFzc2lnbihzYXZlRWxlbWVudFByb3BzLCB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6IGF0dHJpYnV0ZXMuYmdDb2xvclxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2F2ZUVsZW1lbnRQcm9wcztcbn07XG5cbmFkZEZpbHRlcignYmxvY2tzLmdldFNhdmVDb250ZW50LmV4dHJhUHJvcHMnLCAnbHUtZ3V0ZW5iZXJnL2dldC1zYXZlLWNvbnRlbnQvZXh0cmEtcHJvcHMnLCBhZGRFeHRyYVByb3BzKTtcblxudmFyIEFMTE9XRURfTUVESUFfVFlQRVMgPSBbJ2ltYWdlJ107XG5cbnZhciBCYWNrZ3JvdW5kRWRpdCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKEJhY2tncm91bmRFZGl0LCBfQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEJhY2tncm91bmRFZGl0KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFja2dyb3VuZEVkaXQpO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQmFja2dyb3VuZEVkaXQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihCYWNrZ3JvdW5kRWRpdCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhCYWNrZ3JvdW5kRWRpdCwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHRoaXMgaXNuJ3Qgb25lIG9mIG91ciBlbmFibGVkIGJsb2Nrc1xuICAgICAgICAgICAgLyogaWYgKCFlbmFibGVkQmxvY2tzLmluY2x1ZGVzKHByb3BzLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPEJsb2NrRWRpdCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gKi9cblxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IF9wcm9wcy5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZXMgPSBfcHJvcHMuc2V0QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICBiZ0ltYWdlID0gX3Byb3BzLmJnSW1hZ2UsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZTtcbiAgICAgICAgICAgIHZhciBiZ0NvbG9yID0gYXR0cmlidXRlcy5iZ0NvbG9yLFxuICAgICAgICAgICAgICAgIGJnSW1hZ2VJZCA9IGF0dHJpYnV0ZXMuYmdJbWFnZUlkO1xuXG5cbiAgICAgICAgICAgIHZhciBpbnN0cnVjdGlvbnMgPSB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgX18oJ1RvIGVkaXQgdGhlIGJhY2tncm91bmQgaW1hZ2UsIHlvdSBuZWVkIHBlcm1pc3Npb24gdG8gdXBsb2FkIG1lZGlhLicsICdpbWFnZS1zZWxlY3Rvci1leGFtcGxlJylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSB7fTtcbiAgICAgICAgICAgIGlmIChiZ0ltYWdlICYmIGJnSW1hZ2Uuc291cmNlX3VybCkge1xuICAgICAgICAgICAgICAgIHN0eWxlcyA9IHsgYmFja2dyb3VuZEltYWdlOiAndXJsKCcgKyBiZ0ltYWdlLnNvdXJjZV91cmwgKyAnKScgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9uVXBkYXRlSW1hZ2UgPSBmdW5jdGlvbiBvblVwZGF0ZUltYWdlKGltYWdlKSB7XG4gICAgICAgICAgICAgICAgc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIGJnSW1hZ2VJZDogaW1hZ2UuaWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBvblJlbW92ZUltYWdlID0gZnVuY3Rpb24gb25SZW1vdmVJbWFnZSgpIHtcbiAgICAgICAgICAgICAgICBzZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgYmdJbWFnZUlkOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGFkZCBoYXMtYmdDb2xvci14IGNsYXNzIHRvIGJsb2NrXG4gICAgICAgICAgICBpZiAoYmdDb2xvcikge1xuICAgICAgICAgICAgICAgIHByb3BzLmF0dHJpYnV0ZXMuY2xhc3NOYW1lID0gJ2hhcy1iZ0NvbG9yLScgKyBiZ0NvbG9yO1xuICAgICAgICAgICAgICAgIHByb3BzLnN0eWxlID0geyAnYmFja2dyb3VuZC1jb2xvcic6IGJnQ29sb3IgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNvbG9ycyA9IFt7IG5hbWU6ICdOb25lJywgY29sb3I6ICd0cmFuc3BhcmVudCcgfSwgeyBuYW1lOiAnV2hpdGUnLCBjb2xvcjogJyNGRkZGRkYnIH0sIHsgbmFtZTogJ0dyYXknLCBjb2xvcjogJyNGNUY1RjUnIH0sIHsgbmFtZTogJ0RhcmsgR3JheScsIGNvbG9yOiAnIzMzMzMzMycgfSwgeyBuYW1lOiAnRGFyayBCbHVlJywgY29sb3I6ICcjMTYxRjMxJyB9LCB7IG5hbWU6ICdCbHVlJywgY29sb3I6ICcjRTdFRkY3JyB9XTtcblxuICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBGcmFnbWVudCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0eWxlPXt7ICdiYWNrZ3JvdW5kLWNvbG9yJzogYmdDb2xvciB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHN0eWxlc1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoQmxvY2tFZGl0LCBwcm9wcylcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgSW5zcGVjdG9yQ29udHJvbHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhbmVsQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgaW5pdGlhbE9wZW46IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFuZWxSb3csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQmFja2dyb3VuZCBDb2xvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KENvbG9yUGFsZXR0ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcnM6IGNvbG9ycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGJnQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVDdXN0b21Db2xvcnM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BzLnNldEF0dHJpYnV0ZXMoeyBiZ0NvbG9yOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIFBhbmVsQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogX18oJ0JhY2tncm91bmQgc2V0dGluZ3MnLCAnaW1hZ2Utc2VsZWN0b3ItZXhhbXBsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxPcGVuOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnd3AtYmxvY2staW1hZ2Utc2VsZWN0b3ItZXhhbXBsZS1pbWFnZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lZGlhVXBsb2FkQ2hlY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZmFsbGJhY2s6IGluc3RydWN0aW9ucyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoTWVkaWFVcGxvYWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfXygnQmFja2dyb3VuZCBpbWFnZScsICdpbWFnZS1zZWxlY3Rvci1leGFtcGxlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdDogb25VcGRhdGVJbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93ZWRUeXBlczogQUxMT1dFRF9NRURJQV9UWVBFUyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBiZ0ltYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wZW4gPSBfcmVmLm9wZW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICFiZ0ltYWdlSWQgPyAnZWRpdG9yLXBvc3QtZmVhdHVyZWQtaW1hZ2VfX3RvZ2dsZScgOiAnZWRpdG9yLXBvc3QtZmVhdHVyZWQtaW1hZ2VfX3ByZXZpZXcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogb3BlbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhYmdJbWFnZUlkICYmIF9fKCdTZXQgYmFja2dyb3VuZCBpbWFnZScsICdpbWFnZS1zZWxlY3Rvci1leGFtcGxlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEhYmdJbWFnZUlkICYmICFiZ0ltYWdlICYmIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChTcGlubmVyLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISFiZ0ltYWdlSWQgJiYgYmdJbWFnZSAmJiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXNwb25zaXZlV3JhcHBlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmFsV2lkdGg6IGJnSW1hZ2UubWVkaWFfZGV0YWlscy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmFsSGVpZ2h0OiBiZ0ltYWdlLm1lZGlhX2RldGFpbHMuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KCdpbWcnLCB7IHNyYzogYmdJbWFnZS5zb3VyY2VfdXJsLCBhbHQ6IF9fKCdCYWNrZ3JvdW5kIGltYWdlJywgJ2ltYWdlLXNlbGVjdG9yLWV4YW1wbGUnKSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEhYmdJbWFnZUlkICYmIGJnSW1hZ2UgJiYgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZWRpYVVwbG9hZENoZWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoTWVkaWFVcGxvYWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBfXygnQmFja2dyb3VuZCBpbWFnZScsICdpbWFnZS1zZWxlY3Rvci1leGFtcGxlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdDogb25VcGRhdGVJbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93ZWRUeXBlczogQUxMT1dFRF9NRURJQV9UWVBFUyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBiZ0ltYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcGVuID0gX3JlZjIub3BlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCdXR0b24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgb25DbGljazogb3BlbiwgaXNEZWZhdWx0OiB0cnVlLCBpc0xhcmdlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fKCdSZXBsYWNlIGJhY2tncm91bmQgaW1hZ2UnLCAnaW1hZ2Utc2VsZWN0b3ItZXhhbXBsZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEhYmdJbWFnZUlkICYmIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVkaWFVcGxvYWRDaGVjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBvbkNsaWNrOiBvblJlbW92ZUltYWdlLCBpc0xpbms6IHRydWUsIGlzRGVzdHJ1Y3RpdmU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fKCdSZW1vdmUgYmFja2dyb3VuZCBpbWFnZScsICdpbWFnZS1zZWxlY3Rvci1leGFtcGxlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQmFja2dyb3VuZEVkaXQ7XG59KENvbXBvbmVudCk7XG5cbi8qKlxuICogQ3JlYXRlIEhPQyB0byBhZGQgb3B0aW9ucyB0byBpbnNwZWN0b3IgY29udHJvbHMgb2YgYmxvY2tcbiAqL1xuLy8gY29uc3Qgd2l0aEF0dHJpYnV0ZXMgPSBjb21wb3NlKChCbG9ja0VkaXQpID0+IHtcblxuXG52YXIgd2l0aEF0dHJpYnV0ZXMgPSBjb21wb3NlKHdpdGhTZWxlY3QoZnVuY3Rpb24gKHNlbGVjdCwgcHJvcHMpIHtcbiAgICB2YXIgX3NlbGVjdCA9IHNlbGVjdCgnY29yZScpLFxuICAgICAgICBnZXRNZWRpYSA9IF9zZWxlY3QuZ2V0TWVkaWE7XG5cbiAgICB2YXIgYmdJbWFnZUlkID0gcHJvcHMuYXR0cmlidXRlcy5iZ0ltYWdlSWQ7XG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIGJnSW1hZ2U6IGJnSW1hZ2VJZCA/IGdldE1lZGlhKGJnSW1hZ2VJZCkgOiBudWxsXG4gICAgfTtcbn0pKShCYWNrZ3JvdW5kRWRpdCk7XG5cbmFkZEZpbHRlcignZWRpdG9yLkJsb2NrRWRpdCcsICdsdS1ndXRlbmJlcmcvd2l0aC1hdHRyaWJ1dGVzJywgd2l0aEF0dHJpYnV0ZXMpO1xuXG4vKiBleHBvcnQgZGVmYXVsdCBjb21wb3NlKFxuICAgIHdpdGhTZWxlY3QoICggc2VsZWN0LCBwcm9wcyApID0+IHtcbiAgICAgICAgY29uc3QgeyBnZXRNZWRpYSB9ID0gc2VsZWN0KCAnY29yZScgKTtcbiAgICAgICAgY29uc3QgeyBiZ0ltYWdlSWQgfSA9IHByb3BzLmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJnSW1hZ2U6IGJnSW1hZ2VJZCA/IGdldE1lZGlhKCBiZ0ltYWdlSWQgKSA6IG51bGwsXG4gICAgICAgIH07XG4gICAgfSApLFxuKSggQmFja2dyb3VuZEVkaXQgKTsgKi9cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ibG9jay9ibG9jay5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/*! dynamic exports provided */
/*! exports used: assign */
/***/ (function(module, exports) {

module.exports = lodash;

/***/ })
/******/ ]);